import{u as D,r as t,s as m,j as e,L as f,B as _}from"./index-DtEbMehm.js";import{T as z,a as A,b as x,c as i,d as R,e as o}from"./table-cd-O-Qdl.js";import{A as S}from"./arrow-left-ChKTBA9i.js";const P=()=>{const{slug:l}=D(),[d,j]=t.useState(null),[c,v]=t.useState([]),[u,y]=t.useState([]),[N,g]=t.useState(!0);t.useEffect(()=>{l&&w(l)},[l]);const w=async r=>{g(!0);const{data:a}=await m.from("divisions").select("*").eq("slug",r).maybeSingle();if(a){j(a);const{data:n}=await m.from("members").select("*").eq("division_id",a.id).order("position_order",{ascending:!0});n&&v(n);const{data:p}=await m.from("work_programs").select("*").eq("division_id",a.id).order("order_number",{ascending:!0});p&&y(p)}g(!1)},k=r=>{switch(r.toLowerCase()){case"terlaksana":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"proses":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"belum":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}};if(N)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})});if(!d)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Divisi tidak ditemukan"}),e.jsx(f,{to:"/divisi",children:e.jsx(_,{children:"Kembali ke Daftar Divisi"})})]});const s=c.find(r=>r.is_head||r.role==="head"),b=c.filter(r=>!r.is_head&&r.role==="member"),h=c.filter(r=>r.role==="staff");return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"py-16 bg-primary text-primary-foreground",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(f,{to:"/divisi",className:"inline-flex items-center text-primary-foreground/80 hover:text-primary-foreground mb-6",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Divisi"]}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Divisi ",d.name]}),e.jsx("p",{className:"text-lg text-primary-foreground/90 max-w-2xl",children:d.description})]})}),s&&e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8 text-center",children:"Kepala Divisi"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 via-card to-secondary/5 rounded-3xl p-8 shadow-xl border border-secondary/30 text-center max-w-sm overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-secondary/20 to-transparent rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary via-primary to-secondary rounded-full p-1 animate-pulse"}),e.jsx("img",{src:s.photo_url,alt:s.name,className:"relative w-36 h-36 rounded-full object-cover border-4 border-background",onError:r=>{r.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=000080&color=fff&size=150`}})]}),e.jsx("h4",{className:"text-xl font-bold text-card-foreground mb-2",children:s.name}),e.jsx("div",{className:"inline-block px-4 py-1.5 bg-gradient-to-r from-secondary to-secondary/80 text-secondary-foreground rounded-full text-sm font-semibold mb-3",children:s.biro}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["Angkatan ",s.angkatan]})]})})]})}),b.length>0&&e.jsx("section",{className:"py-16 bg-muted/20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8 text-center",children:"Anggota"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map((r,a)=>e.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-soft hover:shadow-xl transition-all duration-500 text-center border border-border hover:-translate-y-2 overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/50 to-secondary/50 rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("img",{src:r.photo_url,alt:r.name,className:"relative w-28 h-28 rounded-full object-cover border-3 border-primary/20 group-hover:border-transparent transition-all duration-500",onError:n=>{n.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=D4AF37&color=fff&size=120`}})]}),e.jsx("h4",{className:"text-lg font-bold text-card-foreground mb-2 group-hover:text-primary transition-colors duration-300",children:r.name}),e.jsx("div",{className:"inline-block px-3 py-1 bg-primary/10 text-primary rounded-full text-xs font-semibold mb-2 group-hover:bg-primary group-hover:text-primary-foreground transition-all duration-300",children:r.biro}),e.jsxs("p",{className:"text-muted-foreground text-xs",children:["Angkatan ",r.angkatan]})]})]},r.id))})]})}),h.length>0&&e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8 text-center",children:"Staff"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-4xl mx-auto",children:h.map(r=>e.jsxs("div",{className:"group bg-gradient-to-br from-card to-muted/20 rounded-xl p-5 shadow-soft hover:shadow-lg transition-all duration-300 text-center border border-border/50 hover:-translate-y-1",children:[e.jsx("div",{className:"relative inline-block mb-3",children:e.jsx("img",{src:r.photo_url,alt:r.name,className:"w-20 h-20 rounded-full object-cover border-2 border-secondary/30 group-hover:border-secondary transition-all duration-300",onError:a=>{a.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=000080&color=fff&size=100`}})}),e.jsx("h4",{className:"text-base font-bold text-card-foreground mb-1 group-hover:text-secondary transition-colors duration-300",children:r.name}),e.jsx("p",{className:"text-secondary font-medium text-xs mb-1",children:r.biro}),e.jsxs("p",{className:"text-muted-foreground text-xs",children:["Angkatan ",r.angkatan]})]},r.id))})]})}),e.jsx("section",{className:"py-16 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-foreground mb-8 text-center",children:"Program Kerja"}),e.jsx("div",{className:"bg-card rounded-2xl shadow-soft overflow-hidden max-w-5xl mx-auto",children:e.jsxs(z,{children:[e.jsx(A,{children:e.jsxs(x,{className:"bg-primary/5",children:[e.jsx(i,{className:"font-bold text-foreground w-16",children:"No"}),e.jsx(i,{className:"font-bold text-foreground",children:"Program Kerja"}),e.jsx(i,{className:"font-bold text-foreground",children:"Penanggung Jawab"}),e.jsx(i,{className:"font-bold text-foreground text-center",children:"Realisasi"})]})}),e.jsxs(R,{children:[u.map((r,a)=>e.jsxs(x,{className:"hover:bg-muted/50",children:[e.jsx(o,{className:"font-medium",children:a+1}),e.jsx(o,{className:"font-medium",children:r.program_name}),e.jsx(o,{children:r.person_in_charge}),e.jsx(o,{className:"text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k(r.realization)}`,children:r.realization})})]},r.id)),u.length===0&&e.jsx(x,{children:e.jsx(o,{colSpan:4,className:"text-center text-muted-foreground py-8",children:"Belum ada program kerja"})})]})]})})]})})]})};export{P as default};
