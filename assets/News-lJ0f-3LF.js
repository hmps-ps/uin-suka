import{r as t,s as u,j as e,L as h}from"./index-DtEbMehm.js";import{S as g}from"./SearchBar-BqIrD0oy.js";import{S as f}from"./SEOHead-CDn2Huy_.js";import{C as p}from"./calendar-_dbzwyI9.js";import"./input-0HMmlWpP.js";const v=()=>{const[s,d]=t.useState([]),[n,r]=t.useState([]),[c,o]=t.useState(!0);t.useEffect(()=>{m()},[]),t.useEffect(()=>{r(s)},[s]);const m=async()=>{o(!0);const{data:a}=await u.from("news").select("*").order("created_at",{ascending:!1});a&&d(a),o(!1)},x=a=>{if(!a.trim()){r(s);return}const i=s.filter(l=>l.title.toLowerCase().includes(a.toLowerCase())||l.content.toLowerCase().includes(a.toLowerCase()));r(i)};return c?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Memuat berita..."})]})}):e.jsxs("div",{className:"min-h-screen py-12 bg-background",children:[e.jsx(f,{title:"Berita HMPS Perbankan Syariah - Universitas Islam Negeri Sultan Syarif Kasim Riau",description:"Berita terkini dan informasi terbaru dari HMPS Perbankan Syariah Universitas Islam Negeri Sultan Syarif Kasim Riau.",keywords:["berita","HMPS","Perbankan Syariah","UIN SUSKA","Universitas Islam Negeri","Riau"]}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-4xl mx-auto mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:"Berita & Kegiatan"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Informasi terkini seputar kegiatan dan program HMPS Perbankan Syariah"}),e.jsx(g,{placeholder:"Cari berita...",onSearch:x,className:"max-w-md mx-auto"})]}),n.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:s.length===0?"Belum ada berita yang dipublikasikan.":"Tidak ada berita yang cocok dengan pencarian."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:n.map(a=>e.jsxs(h,{to:`/news/${a.slug}`,className:"group bg-card rounded-2xl overflow-hidden shadow-soft hover:shadow-medium transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"aspect-video overflow-hidden bg-muted",children:e.jsx("img",{src:a.image_url,alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:i=>{i.target.src="https://placehold.co/600x400/000080/D4AF37?text=HMPS"}})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]}),e.jsx("h2",{className:"text-xl font-semibold text-card-foreground mb-3 group-hover:text-primary transition-colors line-clamp-2",children:a.title}),e.jsxs("p",{className:"text-muted-foreground text-sm line-clamp-3",children:[a.content.substring(0,150),"..."]})]})]},a.id))})]})]})};export{v as default};
